{"version":3,"sources":["../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","shared/components/UIElements/ErrorModal.js","shared/components/UIElements/Modal.js","shared/hooks/http-hook.js","shared/components/UIElements/Card.js","shared/components/UIElements/Avatar.js","user/components/UserItem.js","user/components/UserList.js","user/pages/Users.js"],"names":["asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined","ErrorModal","props","onCancel","onClear","header","show","footer","onClick","ModalOverlay","content","className","style","headerClass","onSubmit","event","preventDefault","contentClass","children","footerClass","ReactDOM","createPortal","document","getElementById","Modal","Fragment","in","mountOnEnter","unmountOnExit","timeout","classNames","useHttpClient","useState","isLoading","setIsLoading","setError","activeHttpRequest","useRef","sendRequest","useCallback","url","method","body","headers","httpAbortCtrl","AbortController","current","push","console","log","fetch","signal","response","json","responseData","ok","Error","message","useEffect","forEach","abortCtrl","abort","clearError","Card","Avatar","src","image","alt","width","height","UserItem","to","id","name","placeCount","UserList","items","length","map","user","places","Users","loadedUsers","setLoadedUsers","process","users","sendData","LoadingSpinner","asOverlay"],"mappings":"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","file":"static/js/7.0dbc8718.chunk.js","sourcesContent":["function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","import React from 'react';\n\nimport Modal from './Modal';\nimport Button from '../FormElements/Button';\n\nconst ErrorModal = props => {\n  return (\n    <Modal\n      onCancel={props.onClear}\n      header=\"An Error Occurred!\"\n      show={!!props.error}\n      footer={<Button onClick={props.onClear}>Okay</Button>}\n    >\n      <p>{props.error}</p>\n    </Modal>\n  );\n};\n\nexport default ErrorModal;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { CSSTransition } from 'react-transition-group';\r\n\r\nimport BackDrop from '../UIElements/Backdrop';\r\n\r\nimport './Modal.css';\r\n\r\nconst ModalOverlay = props => {\r\n    const content = (\r\n        <div className={`modal ${props.className}`} style={props.style}>\r\n            <header className={`modal__header ${props.headerClass}`}>\r\n                <h2>{props.header}</h2>\r\n            </header>\r\n\r\n            <form onSubmit={\r\n                props.onSubmit ? props.onSubmit : event => event.preventDefault()\r\n            }>\r\n                <div className={`modal__content ${props.contentClass}`}>\r\n                    { props.children }\r\n                </div>\r\n\r\n                <footer className={`modal__footer ${props.footerClass}`}>\r\n                    { props.footer }\r\n                </footer>\r\n            </form>\r\n        </div>\r\n    );\r\n\r\n    return ReactDOM.createPortal(content, document.getElementById('modal-hook'));\r\n};\r\n\r\nconst Modal = props => {\r\n    return (\r\n        <React.Fragment>\r\n            { props.show && <BackDrop onClick={props.onCancel} /> }\r\n            <CSSTransition in={props.show} mountOnEnter unmountOnExit timeout={200} classNames='modal'>\r\n                <ModalOverlay {...props} />\r\n            </CSSTransition>\r\n        </React.Fragment>\r\n    )\r\n};\r\n\r\nexport default Modal;","import { useState, useCallback, useRef, useEffect } from 'react';\r\n\r\nexport const useHttpClient = () => {\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [error, setError] = useState();\r\n\r\n    const activeHttpRequest = useRef([]);\r\n\r\n    const sendRequest = useCallback(async (url, method = 'GET', body = null, headers = {}) => {\r\n        try {\r\n            setIsLoading(true);\r\n\r\n            const httpAbortCtrl = new AbortController();\r\n            activeHttpRequest.current.push(httpAbortCtrl);\r\n\r\n            console.log(activeHttpRequest);\r\n            console.log(activeHttpRequest.current);\r\n            console.log(body);\r\n\r\n            const response = await fetch(url, {\r\n                method,\r\n                headers,\r\n                body,\r\n                signal: httpAbortCtrl.signal\r\n            });\r\n\r\n            const responseData = await response.json();\r\n\r\n            if (!response.ok) {\r\n                throw new Error(responseData.message);\r\n            }\r\n\r\n            setIsLoading(false);\r\n\r\n            return responseData;\r\n        } catch (err) {\r\n            setIsLoading(false);\r\n            setError(err.message || 'Error occur during call API.');\r\n            throw new Error(err.message);\r\n        }\r\n    }, []);\r\n\r\n    const clearError = () => {\r\n        setError(null);\r\n    }\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            activeHttpRequest.current.forEach(abortCtrl => {\r\n                abortCtrl.abort();\r\n            });\r\n        }\r\n    }, []);\r\n\r\n    return {\r\n        isLoading,\r\n        error,\r\n        sendRequest,\r\n        clearError\r\n    }\r\n};","import React from 'react';\n\nimport './Card.css';\n\nconst Card = props => {\n  return (\n    <div className={`card ${props.className}`} style={props.style}>\n      {props.children}\n    </div>\n  );\n};\n\nexport default Card;\n","import React from 'react';\n\nimport './Avatar.css';\n\nconst Avatar = props => {\n  return (\n    <div className={`avatar ${props.className}`} style={props.style}>\n      <img\n        src={props.image}\n        alt={props.alt}\n        style={{ width: props.width, height: props.width }}\n      />\n    </div>\n  );\n};\n\nexport default Avatar;\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport Avatar from '../../shared/components/UIElements/Avatar';\r\nimport Card from '../../shared/components/UIElements/Card';\r\n\r\nimport './UserItem.css';\r\n\r\nconst UserItem = props => {\r\n    return (\r\n        <li className='user-item'>\r\n            <Card className='user-item__content'>\r\n                <Link to={`/${props.id}/places`}>\r\n                    <div className='user-item__image'>\r\n                        <Avatar image={`http://localhost:5000/${props.image}`} alt={props.name} />\r\n                    </div>\r\n\r\n                    <div className='user-item__info'>\r\n                        <h2>{props.name}</h2>\r\n                        <h3>{props.placeCount} {props.placeCount === 1 ? 'Place' : 'Places'}</h3>\r\n                    </div>\r\n                </Link>\r\n            </Card>\r\n        </li>\r\n    );\r\n};\r\n\r\nexport default UserItem;","import React from 'react';\r\n\r\nimport UserItem from './UserItem';\r\nimport Card from '../../shared/components/UIElements/Card';\r\n\r\nimport './UserList.css';\r\n\r\nconst UserList = props => {\r\n    if (props.items.length === 0) {\r\n        return (\r\n            <div className=\"center\">\r\n                <Card>\r\n                    <h2>No users found.</h2>\r\n                </Card>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <ul className='users-list'>\r\n            {\r\n                props.items.map(user => <UserItem key={user.id} id={user.id} image={user.image} name={user.name} placeCount={user.places.length} />)\r\n            }\r\n        </ul>\r\n    )\r\n};\r\n\r\nexport default UserList;","import React, { useEffect, useState } from 'react';\r\n\r\nimport UserList from '../components/UserList';\r\nimport LoadingSpinner from '../../shared/components/UIElements/LoadingSpinner';\r\nimport ErrorModal from '../../shared/components/UIElements/ErrorModal';\r\nimport { useHttpClient } from '../../shared/hooks/http-hook';\r\n\r\nconst Users = () => {\r\n    const [loadedUsers, setLoadedUsers] = useState();\r\n    const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n\r\n    useEffect(() => {\r\n        try {\r\n            const sendData = async () => {\r\n                const responseData = await sendRequest(\r\n                    `${process.env.REACT_APP_BACKEND_URL}/users`,\r\n                    'GET',\r\n                    null,\r\n                    {\r\n                        'Content-Type': 'application/json'\r\n                    }\r\n                );\r\n\r\n                setLoadedUsers(responseData.users);\r\n            };\r\n\r\n            sendData();\r\n        } catch (err) {\r\n            console.log(err.message);\r\n        }\r\n    }, [sendRequest]);\r\n\r\n    return (\r\n        <React.Fragment>\r\n            { error && <ErrorModal error={error} onClear={clearError} /> }\r\n            { isLoading && <div className='center'><LoadingSpinner asOverlay /></div> }\r\n            { !isLoading && loadedUsers && <UserList items={loadedUsers} /> }\r\n        </React.Fragment>\r\n    );\r\n};\r\n\r\nexport default Users;"],"sourceRoot":""}